import{d as Vt,b as ht,c as Le,Q as Qe,a as Ht}from"./index.d9d91bd7.js";import{g as Nt,Q as ce}from"./QBtn.d7c2b410.js";import{c as te,h as ae,e as gt,b as bt,a as Ft,d as Ot}from"./render.258f2d26.js";import{c as x,h as b,j as he,r as W,k as Be,o as ze,a as pt,C as Fe,a1 as _t,s as ye,X as yt,a2 as Wt,g as fe,a3 as zt,Y as xt,n as qt,w as _e,a4 as Yt,D as wt,m as ge,t as Ut,u as Kt,v as $e,x as Re,A as ot,B as je,W as Jt,a5 as Gt,a6 as St,J as Ye,K as B,R as ne,F as xe,S as qe,L as N,M as l,P as E,Q as U,$ as y,O as k,N as ue,d as o}from"./index.370ff9cd.js";import{u as it,Q as Xt,g as st,s as rt,c as Zt,a as en}from"./QBanner.4a1ccd4d.js";import{u as Ue,a as Ke,d as Oe,c as ee,Q as X,b as A}from"./QItem.7d79cd3c.js";import{R as tn,Q as we,i as nn,j as Ct,d as an,f as ln,k as Pe}from"./use-router-link.06d73f40.js";import{Q as ut}from"./QPage.f37ce4a6.js";import{d as ie}from"./dayjs.min.29daf272.js";import{l as on}from"./localizedFormat.0318e0ed.js";import{Q as ct}from"./QAvatar.13efa80e.js";import{M as ke}from"./api.9a3f3035.js";import"./index.b7f28e66.js";var $t=te({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=x(()=>{const s=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(r=>e[r]===!0).map(r=>`q-btn-group--${r}`).join(" ");return`q-btn-group row no-wrap${s.length>0?" "+s:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>b("div",{class:n.value},ae(t.default))}});const sn={name:String};function rn(e={}){return(t,n,s)=>{t[n](b("input",{class:"hidden"+(s||""),...e.value}))}}var un=te({name:"QBtnToggle",props:{...sn,modelValue:{required:!0},options:{type:Array,required:!0,validator:e=>e.every(t=>("label"in t||"icon"in t||"slot"in t)&&"value"in t)},color:String,textColor:String,toggleColor:{type:String,default:"primary"},toggleTextColor:String,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,padding:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,readonly:Boolean,disable:Boolean,stack:Boolean,stretch:Boolean,spread:Boolean,clearable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","clear","click"],setup(e,{slots:t,emit:n}){const s=x(()=>e.options.find(g=>g.value===e.modelValue)!==void 0),r=x(()=>({type:"hidden",name:e.name,value:e.modelValue})),a=rn(r),i=x(()=>Nt(e)),v=x(()=>({rounded:e.rounded,dense:e.dense,...i.value})),D=x(()=>e.options.map((g,q)=>{const{attrs:M,value:j,slot:z,...f}=g;return{slot:z,props:{key:q,"aria-pressed":j===e.modelValue?"true":"false",...M,...f,...v.value,disable:e.disable===!0||f.disable===!0,color:j===e.modelValue?p(f,"toggleColor"):p(f,"color"),textColor:j===e.modelValue?p(f,"toggleTextColor"):p(f,"textColor"),noCaps:p(f,"noCaps")===!0,noWrap:p(f,"noWrap")===!0,size:p(f,"size"),padding:p(f,"padding"),ripple:p(f,"ripple"),stack:p(f,"stack")===!0,stretch:p(f,"stretch")===!0,onClick(C){H(j,g,C)}}}}));function H(g,q,M){e.readonly!==!0&&(e.modelValue===g?e.clearable===!0&&(n("update:modelValue",null,null),n("clear")):n("update:modelValue",g,q),n("click",M))}function p(g,q){return g[q]===void 0?e[q]:g[q]}function d(){const g=D.value.map(q=>b(ce,q.props,q.slot!==void 0?t[q.slot]:void 0));return e.name!==void 0&&e.disable!==!0&&s.value===!0&&a(g,"push"),gt(t.default,g)}return()=>b($t,{class:"q-btn-toggle",...i.value,rounded:e.rounded,stretch:e.stretch,glossy:e.glossy,spread:e.spread},d)}});let Ie,Te=0;const J=new Array(256);for(let e=0;e<256;e++)J[e]=(e+256).toString(16).substring(1);const cn=(()=>{const e=typeof crypto!="undefined"?crypto:typeof window!="undefined"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let s=t;s>0;s--)n.push(Math.floor(Math.random()*256));return n}})(),dt=4096;function dn(){(Ie===void 0||Te+16>dt)&&(Te=0,Ie=cn(dt));const e=Array.prototype.slice.call(Ie,Te,Te+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,J[e[0]]+J[e[1]]+J[e[2]]+J[e[3]]+"-"+J[e[4]]+J[e[5]]+"-"+J[e[6]]+J[e[7]]+"-"+J[e[8]]+J[e[9]]+"-"+J[e[10]]+J[e[11]]+J[e[12]]+J[e[13]]+J[e[14]]+J[e[15]]}let fn=0;const vn=["click","keydown"],mn={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${fn++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function hn(e,t,n,s){const r=pt(_t,he);if(r===he)return console.error("QTab/QRouteTab component needs to be child of QTabs"),he;const{proxy:a}=fe(),i=W(null),v=W(null),D=W(null),H=x(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),p=x(()=>r.currentModel.value===e.name),d=x(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(p.value===!0?" q-tab--active"+(r.tabProps.value.activeClass?" "+r.tabProps.value.activeClass:"")+(r.tabProps.value.activeColor?` text-${r.tabProps.value.activeColor}`:"")+(r.tabProps.value.activeBgColor?` bg-${r.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&r.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||r.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(s!==void 0?s.linkClass.value:"")),g=x(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(r.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),q=x(()=>e.disable===!0||r.hasFocus.value===!0||p.value===!1&&r.hasActiveTab.value===!0?-1:e.tabindex||0);function M(h,S){if(S!==!0&&i.value!==null&&i.value.focus(),e.disable===!0){s!==void 0&&s.hasRouterLink.value===!0&&ye(h);return}if(s===void 0){r.updateModel({name:e.name}),n("click",h);return}if(s.hasRouterLink.value===!0){const T=(m={})=>{let c;const $=m.to===void 0||zt(m.to,e.to)===!0?r.avoidRouteWatcher=dn():null;return s.navigateToRouterLink(h,{...m,returnRouterError:!0}).catch(Q=>{c=Q}).then(Q=>{if($===r.avoidRouteWatcher&&(r.avoidRouteWatcher=!1,c===void 0&&(Q===void 0||Q.message.startsWith("Avoided redundant navigation")===!0)&&r.updateModel({name:e.name})),m.returnRouterError===!0)return c!==void 0?Promise.reject(c):Q})};n("click",h,T),h.defaultPrevented!==!0&&T();return}n("click",h)}function j(h){yt(h,[13,32])?M(h,!0):Wt(h)!==!0&&h.keyCode>=35&&h.keyCode<=40&&h.altKey!==!0&&h.metaKey!==!0&&r.onKbdNavigate(h.keyCode,a.$el)===!0&&ye(h),n("keydown",h)}function z(){const h=r.tabProps.value.narrowIndicator,S=[],T=b("div",{ref:D,class:["q-tab__indicator",r.tabProps.value.indicatorClass]});e.icon!==void 0&&S.push(b(we,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&S.push(b("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&S.push(e.alertIcon!==void 0?b(we,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):b("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),h===!0&&S.push(T);const m=[b("div",{class:"q-focus-helper",tabindex:-1,ref:i}),b("div",{class:g.value},gt(t.default,S))];return h===!1&&m.push(T),m}const f={name:x(()=>e.name),rootRef:v,tabIndicatorRef:D,routeData:s};Be(()=>{r.unregisterTab(f)}),ze(()=>{r.registerTab(f)});function C(h,S){const T={ref:v,class:d.value,tabindex:q.value,role:"tab","aria-selected":p.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:M,onKeydown:j,...S};return Fe(b(h,T,z()),[[tn,H.value]])}return{renderTab:C,$tabs:r}}var be=te({name:"QTab",props:mn,emits:vn,setup(e,{slots:t,emit:n}){const{renderTab:s}=hn(e,t,n);return()=>s("div")}});function De(){let e;const t=fe();function n(){e=void 0}return xt(n),Be(n),{removeTick:n,registerTick(s){e=s,qt(()=>{e===s&&(nn(t)===!1&&e(),e=void 0)})}}}let kt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,kt=e.scrollLeft>=0,e.remove()}function gn(e,t,n){const s=n===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?s[0]:s[1]}${e?` text-${e}`:""}`}const bn=["left","center","right","justify"];var pn=te({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>bn.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:n}){const{proxy:s}=fe(),{$q:r}=s,{registerTick:a}=De(),{registerTick:i}=De(),{registerTick:v}=De(),{registerTimeout:D,removeTimeout:H}=it(),{registerTimeout:p,removeTimeout:d}=it(),g=W(null),q=W(null),M=W(e.modelValue),j=W(!1),z=W(!0),f=W(!1),C=W(!1),h=[],S=W(0),T=W(!1);let m=null,c=null,$;const Q=x(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:gn(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),V=x(()=>{const u=S.value,_=M.value;for(let P=0;P<u;P++)if(h[P].name.value===_)return!0;return!1}),Y=x(()=>`q-tabs__content--align-${j.value===!0?"left":C.value===!0?"justify":e.align}`),K=x(()=>`q-tabs row no-wrap items-center q-tabs--${j.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),w=x(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+Y.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),R=x(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),G=x(()=>e.vertical!==!0&&r.lang.rtl===!0),le=x(()=>kt===!1&&G.value===!0);_e(G,me),_e(()=>e.modelValue,u=>{de({name:u,setCurrent:!0,skipEmit:!0})}),_e(()=>e.outsideArrows,Se);function de({name:u,setCurrent:_,skipEmit:P}){M.value!==u&&(P!==!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",u),(_===!0||e["onUpdate:modelValue"]===void 0)&&(Pt(M.value,u),M.value=u))}function Se(){a(()=>{Je({width:g.value.offsetWidth,height:g.value.offsetHeight})})}function Je(u){if(R.value===void 0||q.value===null)return;const _=u[R.value.container],P=Math.min(q.value[R.value.scroll],Array.prototype.reduce.call(q.value.children,(O,I)=>O+(I[R.value.content]||0),0)),F=_>0&&P>_;j.value=F,F===!0&&i(me),C.value=_<parseInt(e.breakpoint,10)}function Pt(u,_){const P=u!=null&&u!==""?h.find(O=>O.name.value===u):null,F=_!=null&&_!==""?h.find(O=>O.name.value===_):null;if(P&&F){const O=P.tabIndicatorRef.value,I=F.tabIndicatorRef.value;m!==null&&(clearTimeout(m),m=null),O.style.transition="none",O.style.transform="none",I.style.transition="none",I.style.transform="none";const L=O.getBoundingClientRect(),Z=I.getBoundingClientRect();I.style.transform=e.vertical===!0?`translate3d(0,${L.top-Z.top}px,0) scale3d(1,${Z.height?L.height/Z.height:1},1)`:`translate3d(${L.left-Z.left}px,0,0) scale3d(${Z.width?L.width/Z.width:1},1,1)`,v(()=>{m=setTimeout(()=>{m=null,I.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",I.style.transform="none"},70)})}F&&j.value===!0&&ve(F.rootRef.value)}function ve(u){const{left:_,width:P,top:F,height:O}=q.value.getBoundingClientRect(),I=u.getBoundingClientRect();let L=e.vertical===!0?I.top-F:I.left-_;if(L<0){q.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(L),me();return}L+=e.vertical===!0?I.height-O:I.width-P,L>0&&(q.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(L),me())}function me(){const u=q.value;if(u===null)return;const _=u.getBoundingClientRect(),P=e.vertical===!0?u.scrollTop:Math.abs(u.scrollLeft);G.value===!0?(z.value=Math.ceil(P+_.width)<u.scrollWidth-1,f.value=P>0):(z.value=P>0,f.value=e.vertical===!0?Math.ceil(P+_.height)<u.scrollHeight:Math.ceil(P+_.width)<u.scrollWidth)}function Ge(u){c!==null&&clearInterval(c),c=setInterval(()=>{At(u)===!0&&se()},5)}function Xe(){Ge(le.value===!0?Number.MAX_SAFE_INTEGER:0)}function Ze(){Ge(le.value===!0?0:Number.MAX_SAFE_INTEGER)}function se(){c!==null&&(clearInterval(c),c=null)}function Bt(u,_){const P=Array.prototype.filter.call(q.value.children,Z=>Z===_||Z.matches&&Z.matches(".q-tab.q-focusable")===!0),F=P.length;if(F===0)return;if(u===36)return ve(P[0]),P[0].focus(),!0;if(u===35)return ve(P[F-1]),P[F-1].focus(),!0;const O=u===(e.vertical===!0?38:37),I=u===(e.vertical===!0?40:39),L=O===!0?-1:I===!0?1:void 0;if(L!==void 0){const Z=G.value===!0?-1:1,oe=P.indexOf(_)+L*Z;return oe>=0&&oe<F&&(ve(P[oe]),P[oe].focus({preventScroll:!0})),!0}}const Mt=x(()=>le.value===!0?{get:u=>Math.abs(u.scrollLeft),set:(u,_)=>{u.scrollLeft=-_}}:e.vertical===!0?{get:u=>u.scrollTop,set:(u,_)=>{u.scrollTop=_}}:{get:u=>u.scrollLeft,set:(u,_)=>{u.scrollLeft=_}});function At(u){const _=q.value,{get:P,set:F}=Mt.value;let O=!1,I=P(_);const L=u<I?-1:1;return I+=L*5,I<0?(O=!0,I=0):(L===-1&&I<=u||L===1&&I>=u)&&(O=!0,I=u),F(_,I),me(),O}function et(u,_){for(const P in u)if(u[P]!==_[P])return!1;return!0}function Lt(){let u=null,_={matchedLen:0,queryDiff:9999,hrefLen:0};const P=h.filter(L=>L.routeData!==void 0&&L.routeData.hasRouterLink.value===!0),{hash:F,query:O}=s.$route,I=Object.keys(O).length;for(const L of P){const Z=L.routeData.exact.value===!0;if(L.routeData[Z===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:oe,query:Me,matched:Dt,href:Et}=L.routeData.resolvedLink.value,Ae=Object.keys(Me).length;if(Z===!0){if(oe!==F||Ae!==I||et(O,Me)===!1)continue;u=L.name.value;break}if(oe!==""&&oe!==F||Ae!==0&&et(Me,O)===!1)continue;const re={matchedLen:Dt.length,queryDiff:I-Ae,hrefLen:Et.length-oe.length};if(re.matchedLen>_.matchedLen){u=L.name.value,_=re;continue}else if(re.matchedLen!==_.matchedLen)continue;if(re.queryDiff<_.queryDiff)u=L.name.value,_=re;else if(re.queryDiff!==_.queryDiff)continue;re.hrefLen>_.hrefLen&&(u=L.name.value,_=re)}u===null&&h.some(L=>L.routeData===void 0&&L.name.value===M.value)===!0||de({name:u,setCurrent:!0})}function Qt(u){if(H(),T.value!==!0&&g.value!==null&&u.target&&typeof u.target.closest=="function"){const _=u.target.closest(".q-tab");_&&g.value.contains(_)===!0&&(T.value=!0,j.value===!0&&ve(_))}}function Rt(){D(()=>{T.value=!1},30)}function Ce(){nt.avoidRouteWatcher===!1?p(Lt):d()}function tt(){if($===void 0){const u=_e(()=>s.$route.fullPath,Ce);$=()=>{u(),$=void 0}}}function jt(u){h.push(u),S.value++,Se(),u.routeData===void 0||s.$route===void 0?p(()=>{if(j.value===!0){const _=M.value,P=_!=null&&_!==""?h.find(F=>F.name.value===_):null;P&&ve(P.rootRef.value)}}):(tt(),u.routeData.hasRouterLink.value===!0&&Ce())}function It(u){h.splice(h.indexOf(u),1),S.value--,Se(),$!==void 0&&u.routeData!==void 0&&(h.every(_=>_.routeData===void 0)===!0&&$(),Ce())}const nt={currentModel:M,tabProps:Q,hasFocus:T,hasActiveTab:V,registerTab:jt,unregisterTab:It,verifyRouteModel:Ce,updateModel:de,onKbdNavigate:Bt,avoidRouteWatcher:!1};wt(_t,nt);function at(){m!==null&&clearTimeout(m),se(),$!==void 0&&$()}let lt;return Be(at),xt(()=>{lt=$!==void 0,at()}),Yt(()=>{lt===!0&&tt(),Se()}),()=>b("div",{ref:g,class:K.value,role:"tablist",onFocusin:Qt,onFocusout:Rt},[b(Xt,{onResize:Je}),b("div",{ref:q,class:w.value,onScroll:me},ae(t.default)),b(we,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(z.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||r.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:Xe,onTouchstartPassive:Xe,onMouseupPassive:se,onMouseleavePassive:se,onTouchendPassive:se}),b(we,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(f.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||r.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Ze,onTouchstartPassive:Ze,onMouseupPassive:se,onMouseleavePassive:se,onTouchendPassive:se})])}});function _n(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,s)=>{const r=parseFloat(n);r&&(t[s]=r)}),t}var yn=bt({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:s}){if(s.mouse!==!0&&ge.has.touch!==!0)return;const r=s.mouseCapture===!0?"Capture":"",a={handler:t,sensitivity:_n(n),direction:st(s),noop:Ut,mouseStart(i){rt(i,a)&&Kt(i)&&($e(a,"temp",[[document,"mousemove","move",`notPassive${r}`],[document,"mouseup","end","notPassiveCapture"]]),a.start(i,!0))},touchStart(i){if(rt(i,a)){const v=i.target;$e(a,"temp",[[v,"touchmove","move","notPassiveCapture"],[v,"touchcancel","end","notPassiveCapture"],[v,"touchend","end","notPassiveCapture"]]),a.start(i)}},start(i,v){ge.is.firefox===!0&&Re(e,!0);const D=ot(i);a.event={x:D.left,y:D.top,time:Date.now(),mouse:v===!0,dir:!1}},move(i){if(a.event===void 0)return;if(a.event.dir!==!1){ye(i);return}const v=Date.now()-a.event.time;if(v===0)return;const D=ot(i),H=D.left-a.event.x,p=Math.abs(H),d=D.top-a.event.y,g=Math.abs(d);if(a.event.mouse!==!0){if(p<a.sensitivity[1]&&g<a.sensitivity[1]){a.end(i);return}}else if(p<a.sensitivity[2]&&g<a.sensitivity[2])return;const q=p/v,M=g/v;a.direction.vertical===!0&&p<g&&p<100&&M>a.sensitivity[0]&&(a.event.dir=d<0?"up":"down"),a.direction.horizontal===!0&&p>g&&g<100&&q>a.sensitivity[0]&&(a.event.dir=H<0?"left":"right"),a.direction.up===!0&&p<g&&d<0&&p<100&&M>a.sensitivity[0]&&(a.event.dir="up"),a.direction.down===!0&&p<g&&d>0&&p<100&&M>a.sensitivity[0]&&(a.event.dir="down"),a.direction.left===!0&&p>g&&H<0&&g<100&&q>a.sensitivity[0]&&(a.event.dir="left"),a.direction.right===!0&&p>g&&H>0&&g<100&&q>a.sensitivity[0]&&(a.event.dir="right"),a.event.dir!==!1?(ye(i),a.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Zt(),a.styleCleanup=j=>{a.styleCleanup=void 0,document.body.classList.remove("non-selectable");const z=()=>{document.body.classList.remove("no-pointer-events--children")};j===!0?setTimeout(z,50):z()}),a.handler({evt:i,touch:a.event.mouse!==!0,mouse:a.event.mouse,direction:a.event.dir,duration:v,distance:{x:p,y:g}})):a.end(i)},end(i){a.event!==void 0&&(je(a,"temp"),ge.is.firefox===!0&&Re(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(!0),i!==void 0&&a.event.dir!==!1&&ye(i),a.event=void 0)}};if(e.__qtouchswipe=a,s.mouse===!0){const i=s.mouseCapture===!0||s.mousecapture===!0?"Capture":"";$e(a,"main",[[e,"mousedown","mouseStart",`passive${i}`]])}ge.has.touch===!0&&$e(a,"main",[[e,"touchstart","touchStart",`passive${s.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;n!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value),n.direction=st(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(je(t,"main"),je(t,"temp"),ge.is.firefox===!0&&Re(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function xn(){const e=new Map;return{getCache:function(t,n){return e[t]===void 0?e[t]=n:e[t]},getCacheWithFn:function(t,n){return e[t]===void 0?e[t]=n():e[t]}}}const qn={name:{required:!0},disable:Boolean},ft={setup(e,{slots:t}){return()=>b("div",{class:"q-panel scroll",role:"tabpanel"},ae(t.default))}},wn={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Sn=["update:modelValue","beforeTransition","transition"];function Cn(){const{props:e,emit:t,proxy:n}=fe(),{getCacheWithFn:s}=xn();let r,a;const i=W(null),v=W(null);function D(w){const R=e.vertical===!0?"up":"left";c((n.$q.lang.rtl===!0?-1:1)*(w.direction===R?1:-1))}const H=x(()=>[[yn,D,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),p=x(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),d=x(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),g=x(()=>`--q-transition-duration: ${e.transitionDuration}ms`),q=x(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),M=x(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),j=x(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);_e(()=>e.modelValue,(w,R)=>{const G=h(w)===!0?S(w):-1;a!==!0&&m(G===-1?0:G<S(R)?-1:1),i.value!==G&&(i.value=G,t("beforeTransition",w,R),qt(()=>{t("transition",w,R)}))});function z(){c(1)}function f(){c(-1)}function C(w){t("update:modelValue",w)}function h(w){return w!=null&&w!==""}function S(w){return r.findIndex(R=>R.props.name===w&&R.props.disable!==""&&R.props.disable!==!0)}function T(){return r.filter(w=>w.props.disable!==""&&w.props.disable!==!0)}function m(w){const R=w!==0&&e.animated===!0&&i.value!==-1?"q-transition--"+(w===-1?p.value:d.value):null;v.value!==R&&(v.value=R)}function c(w,R=i.value){let G=R+w;for(;G>-1&&G<r.length;){const le=r[G];if(le!==void 0&&le.props.disable!==""&&le.props.disable!==!0){m(w),a=!0,t("update:modelValue",le.props.name),setTimeout(()=>{a=!1});return}G+=w}e.infinite===!0&&r.length>0&&R!==-1&&R!==r.length&&c(w,w===-1?r.length:-1)}function $(){const w=S(e.modelValue);return i.value!==w&&(i.value=w),!0}function Q(){const w=h(e.modelValue)===!0&&$()&&r[i.value];return e.keepAlive===!0?[b(Gt,M.value,[b(j.value===!0?s(q.value,()=>({...ft,name:q.value})):ft,{key:q.value,style:g.value},()=>w)])]:[b("div",{class:"q-panel scroll",style:g.value,key:q.value,role:"tabpanel"},[w])]}function V(){if(r.length!==0)return e.animated===!0?[b(Jt,{name:v.value},Q)]:Q()}function Y(w){return r=Ct(ae(w.default,[])).filter(R=>R.props!==null&&R.props.slot===void 0&&h(R.props.name)===!0),r.length}function K(){return r}return Object.assign(n,{next:z,previous:f,goTo:C}),{panelIndex:i,panelDirectives:H,updatePanelsList:Y,updatePanelIndex:$,getPanelContent:V,getEnabledPanels:T,getPanels:K,isValidPanelName:h,keepAliveProps:M,needsUniqueKeepAliveWrapper:j,goToPanelByOffset:c,goToPanel:C,nextPanel:z,previousPanel:f}}var pe=te({name:"QTabPanel",props:qn,setup(e,{slots:t}){return()=>b("div",{class:"q-tab-panel",role:"tabpanel"},ae(t.default))}}),Ee=te({name:"QTimelineEntry",props:{heading:Boolean,tag:{type:String,default:"h3"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},icon:String,avatar:String,color:String,title:String,subtitle:String,body:String},setup(e,{slots:t}){const n=pt(St,he);if(n===he)return console.error("QTimelineEntry needs to be child of QTimeline"),he;const s=x(()=>`q-timeline__entry q-timeline__entry--${e.side}`+(e.icon!==void 0||e.avatar!==void 0?" q-timeline__entry--icon":"")),r=x(()=>`q-timeline__dot text-${e.color||n.color}`),a=x(()=>n.layout==="comfortable"&&n.side==="left");return()=>{const i=Ft(t.default,[]);if(e.body!==void 0&&i.unshift(e.body),e.heading===!0){const H=[b("div"),b("div"),b(e.tag,{class:"q-timeline__heading-title"},i)];return b("div",{class:"q-timeline__heading"},a.value===!0?H.reverse():H)}let v;e.icon!==void 0?v=[b(we,{class:"row items-center justify-center",name:e.icon})]:e.avatar!==void 0&&(v=[b("img",{class:"q-timeline__dot-img",src:e.avatar})]);const D=[b("div",{class:"q-timeline__subtitle"},[b("span",{},ae(t.subtitle,[e.subtitle]))]),b("div",{class:r.value},v),b("div",{class:"q-timeline__content"},[b("h6",{class:"q-timeline__title"},ae(t.title,[e.title]))].concat(i))];return b("li",{class:s.value},a.value===!0?D.reverse():D)}}}),Ve=te({name:"QTimeline",props:{...Ue,color:{type:String,default:"primary"},side:{type:String,default:"right",validator:e=>["left","right"].includes(e)},layout:{type:String,default:"dense",validator:e=>["dense","comfortable","loose"].includes(e)}},setup(e,{slots:t}){const n=fe(),s=Ke(e,n.proxy.$q);wt(St,e);const r=x(()=>`q-timeline q-timeline--${e.layout} q-timeline--${e.layout}--${e.side}`+(s.value===!0?" q-timeline--dark":""));return()=>b("ul",{class:r.value},ae(t.default))}}),$n=te({name:"QTabPanels",props:{...wn,...Ue},emits:Sn,setup(e,{slots:t}){const n=fe(),s=Ke(e,n.proxy.$q),{updatePanelsList:r,getPanelContent:a,panelDirectives:i}=Cn(),v=x(()=>"q-tab-panels q-panel-parent"+(s.value===!0?" q-tab-panels--dark q-dark":""));return()=>(r(t),Ot("div",{class:v.value},a(),"pan",e.swipeable,()=>i.value))}}),We=te({name:"QCard",props:{...Ue,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=fe(),s=Ke(e,n),r=x(()=>"q-card"+(s.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>b(e.tag,{class:r.value},ae(t.default))}}),kn=te({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:t}){const n=x(()=>e.sent===!0?"sent":"received"),s=x(()=>`q-message-text-content q-message-text-content--${n.value}`+(e.textColor!==void 0?` text-${e.textColor}`:"")),r=x(()=>`q-message-text q-message-text--${n.value}`+(e.bgColor!==void 0?` text-${e.bgColor}`:"")),a=x(()=>"q-message-container row items-end no-wrap"+(e.sent===!0?" reverse":"")),i=x(()=>e.size!==void 0?`col-${e.size}`:""),v=x(()=>({msg:e.textHtml===!0?"innerHTML":"textContent",stamp:e.stampHtml===!0?"innerHTML":"textContent",name:e.nameHtml===!0?"innerHTML":"textContent",label:e.labelHtml===!0?"innerHTML":"textContent"}));function D(p){return t.stamp!==void 0?[p,b("div",{class:"q-message-stamp"},t.stamp())]:e.stamp?[p,b("div",{class:"q-message-stamp",[v.value.stamp]:e.stamp})]:[p]}function H(p,d){const g=d===!0?p.length>1?q=>q:q=>b("div",[q]):q=>b("div",{[v.value.msg]:q});return p.map((q,M)=>b("div",{key:M,class:r.value},[b("div",{class:s.value},D(g(q)))]))}return()=>{const p=[];t.avatar!==void 0?p.push(t.avatar()):e.avatar!==void 0&&p.push(b("img",{class:`q-message-avatar q-message-avatar--${n.value}`,src:e.avatar,"aria-hidden":"true"}));const d=[];t.name!==void 0?d.push(b("div",{class:`q-message-name q-message-name--${n.value}`},t.name())):e.name!==void 0&&d.push(b("div",{class:`q-message-name q-message-name--${n.value}`,[v.value.name]:e.name})),t.default!==void 0?d.push(H(Ct(t.default()),!0)):e.text!==void 0&&d.push(H(e.text)),p.push(b("div",{class:i.value},d));const g=[];return t.label!==void 0?g.push(b("div",{class:"q-message-label"},t.label())):e.label!==void 0&&g.push(b("div",{class:"q-message-label",[v.value.label]:e.label})),g.push(b("div",{class:a.value},p)),b("div",{class:`q-message q-message-${n.value}`},g)}}}),Tt={exports:{}};(function(e,t){(function(n,s){e.exports=s()})(Vt,function(){var n,s,r=1e3,a=6e4,i=36e5,v=864e5,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,H=31536e6,p=2592e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,g={years:H,months:p,days:v,hours:i,minutes:a,seconds:r,milliseconds:1,weeks:6048e5},q=function(T){return T instanceof S},M=function(T,m,c){return new S(T,c,m.$l)},j=function(T){return s.p(T)+"s"},z=function(T){return T<0},f=function(T){return z(T)?Math.ceil(T):Math.floor(T)},C=function(T){return Math.abs(T)},h=function(T,m){return T?z(T)?{negative:!0,format:""+C(T)+m}:{negative:!1,format:""+T+m}:{negative:!1,format:""}},S=function(){function T(c,$,Q){var V=this;if(this.$d={},this.$l=Q,c===void 0&&(this.$ms=0,this.parseFromMilliseconds()),$)return M(c*g[j($)],this);if(typeof c=="number")return this.$ms=c,this.parseFromMilliseconds(),this;if(typeof c=="object")return Object.keys(c).forEach(function(w){V.$d[j(w)]=c[w]}),this.calMilliseconds(),this;if(typeof c=="string"){var Y=c.match(d);if(Y){var K=Y.slice(2).map(function(w){return w!=null?Number(w):0});return this.$d.years=K[0],this.$d.months=K[1],this.$d.weeks=K[2],this.$d.days=K[3],this.$d.hours=K[4],this.$d.minutes=K[5],this.$d.seconds=K[6],this.calMilliseconds(),this}}return this}var m=T.prototype;return m.calMilliseconds=function(){var c=this;this.$ms=Object.keys(this.$d).reduce(function($,Q){return $+(c.$d[Q]||0)*g[Q]},0)},m.parseFromMilliseconds=function(){var c=this.$ms;this.$d.years=f(c/H),c%=H,this.$d.months=f(c/p),c%=p,this.$d.days=f(c/v),c%=v,this.$d.hours=f(c/i),c%=i,this.$d.minutes=f(c/a),c%=a,this.$d.seconds=f(c/r),c%=r,this.$d.milliseconds=c},m.toISOString=function(){var c=h(this.$d.years,"Y"),$=h(this.$d.months,"M"),Q=+this.$d.days||0;this.$d.weeks&&(Q+=7*this.$d.weeks);var V=h(Q,"D"),Y=h(this.$d.hours,"H"),K=h(this.$d.minutes,"M"),w=this.$d.seconds||0;this.$d.milliseconds&&(w+=this.$d.milliseconds/1e3);var R=h(w,"S"),G=c.negative||$.negative||V.negative||Y.negative||K.negative||R.negative,le=Y.format||K.format||R.format?"T":"",de=(G?"-":"")+"P"+c.format+$.format+V.format+le+Y.format+K.format+R.format;return de==="P"||de==="-P"?"P0D":de},m.toJSON=function(){return this.toISOString()},m.format=function(c){var $=c||"YYYY-MM-DDTHH:mm:ss",Q={Y:this.$d.years,YY:s.s(this.$d.years,2,"0"),YYYY:s.s(this.$d.years,4,"0"),M:this.$d.months,MM:s.s(this.$d.months,2,"0"),D:this.$d.days,DD:s.s(this.$d.days,2,"0"),H:this.$d.hours,HH:s.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:s.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:s.s(this.$d.seconds,2,"0"),SSS:s.s(this.$d.milliseconds,3,"0")};return $.replace(D,function(V,Y){return Y||String(Q[V])})},m.as=function(c){return this.$ms/g[j(c)]},m.get=function(c){var $=this.$ms,Q=j(c);return Q==="milliseconds"?$%=1e3:$=Q==="weeks"?f($/g[Q]):this.$d[Q],$===0?0:$},m.add=function(c,$,Q){var V;return V=$?c*g[j($)]:q(c)?c.$ms:M(c,this).$ms,M(this.$ms+V*(Q?-1:1),this)},m.subtract=function(c,$){return this.add(c,$,!0)},m.locale=function(c){var $=this.clone();return $.$l=c,$},m.clone=function(){return M(this.$ms,this)},m.humanize=function(c){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!c)},m.milliseconds=function(){return this.get("milliseconds")},m.asMilliseconds=function(){return this.as("milliseconds")},m.seconds=function(){return this.get("seconds")},m.asSeconds=function(){return this.as("seconds")},m.minutes=function(){return this.get("minutes")},m.asMinutes=function(){return this.as("minutes")},m.hours=function(){return this.get("hours")},m.asHours=function(){return this.as("hours")},m.days=function(){return this.get("days")},m.asDays=function(){return this.as("days")},m.weeks=function(){return this.get("weeks")},m.asWeeks=function(){return this.as("weeks")},m.months=function(){return this.get("months")},m.asMonths=function(){return this.as("months")},m.years=function(){return this.get("years")},m.asYears=function(){return this.as("years")},T}();return function(T,m,c){n=c,s=c().$utils(),c.duration=function(V,Y){var K=c.locale();return M(V,{$l:K},Y)},c.isDuration=q;var $=m.prototype.add,Q=m.prototype.subtract;m.prototype.add=function(V,Y){return q(V)&&(V=V.asMilliseconds()),$.bind(this)(V,Y)},m.prototype.subtract=function(V,Y){return q(V)&&(V=V.asMilliseconds()),Q.bind(this)(V,Y)}}})})(Tt);var Tn=Tt.exports;const Pn={key:0},Bn={key:1},Mn=Ye({__name:"JobRunTimeline",props:{run:null},setup(e){const t=e;ie.extend(Tn);function n(a){let i=t.run.created_at;return ie.duration({milliseconds:ie(a).diff(i,"millisecond")})}function s(a){return a===ke.Info?"info":a===ke.Success?"positive":a===ke.Error?"negative":a===ke.Warning?"warning":"accent"}const r=x(()=>{let a=[];for(let i of t.run.messages)a.push({from_app:!1,id:"message-"+i.id.toString(),text:[i.message],time_into_job:n(i.created_at),color:s(i.type),icon:"chat"});t.run.exception!==null&&a.push({from_app:!1,id:"exception-"+t.run.exception.id.toString(),text:["An exception occurred",t.run.exception.message],time_into_job:n(t.run.exception.created_at),color:"negative",icon:"error"});for(let i of t.run.statuses)a.push({from_app:!1,id:"status-"+i.id.toString(),text:["Status changed to "+i.status],time_into_job:n(i.created_at),color:null,icon:"move_down"});for(let i of t.run.signals)a.push({from_app:!0,id:"signal-dispatched-"+i.id.toString(),text:["Signal "+i.signal+" sent (#"+i.id.toString()+")"].concat(Object.keys(i.parameters).map(v=>"Passing parameter '"+v+"' with value '"+i.parameters[v]+"'")),time_into_job:n(i.created_at),color:null,icon:"connect_without_contact"}),i.handled_at!==null&&a.push({from_app:!1,id:"signal-handled-"+i.id.toString(),text:["Handled signal "+i.signal+" (#"+i.id+")"].concat(i.cancel_job?["This caused the job to be cancelled."]:[]),time_into_job:n(i.handled_at),color:i.cancel_job?"warning":null,icon:"connect_without_contact"});return a.sort((i,v)=>i.time_into_job.asMilliseconds()-v.time_into_job.asMilliseconds()),a});return(a,i)=>(B(),ne("div",null,[(B(!0),ne(xe,null,qe(y(r),v=>{var D;return B(),N(kn,{text:v.text,sent:v.from_app,"text-color":"white","bg-color":(D=v.color)!=null?D:"primary",key:v.id},{name:l(()=>[v.from_app?(B(),ne("span",Pn,"Your Application")):(B(),ne("span",Bn,E(e.run.alias),1))]),stamp:l(()=>[U("span",null,E(Math.round(v.time_into_job.asSeconds()*10)/10)+" seconds",1)]),avatar:l(()=>[v.from_app?(B(),N(ct,{key:0,color:"teal",class:"q-ma-sm","text-color":"white",icon:v.icon},null,8,["icon"])):(B(),N(ct,{key:1,color:"teal",class:"q-ma-sm","text-color":"white",icon:v.icon},null,8,["icon"]))]),_:2},1032,["text","sent","bg-color"])}),128))]))}}),An=b("div",{class:"q-space"});var Ln=te({name:"QSpace",setup(){return()=>An}}),He=te({name:"QCardActions",props:{...an,vertical:Boolean},setup(e,{slots:t}){const n=ln(e),s=x(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>b("div",{class:s.value},ae(t.default))}}),Ne=te({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=x(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>b(e.tag,{class:n.value},ae(t.default))}});const Qn=[];function Rn(e){return Qn.find(t=>t.contentEl!==null&&t.contentEl.contains(e))}function jn(e,t){do{if(e.$options.name==="QMenu"){if(e.hide(t),e.$props.separateClosePopup===!0)return Pe(e)}else if(e.__qPortal===!0){const n=Pe(e);return n!==void 0&&n.$options.name==="QPopupProxy"?(e.hide(t),n):e}e=Pe(e)}while(e!=null)}function In(e,t,n){for(;n!==0&&e!==void 0&&e!==null;){if(e.__qPortal===!0){if(n--,e.$options.name==="QMenu"){e=jn(e,t);continue}e.hide(t)}e=Pe(e)}}function vt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var mt=bt({name:"close-popup",beforeMount(e,{value:t}){const n={depth:vt(t),handler(s){n.depth!==0&&setTimeout(()=>{const r=Rn(e);r!==void 0&&In(r,s,n.depth)})},handlerKey(s){yt(s,13)===!0&&n.handler(s)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=vt(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});const Dn={class:"text-h6"},En={class:"text-subtitle2"},Vn=Ye({__name:"ExceptionView",props:{exceptions:null},setup(e){const t=e,n=W();ze(()=>{t.exceptions.length>0&&(n.value=0)});const s=x(()=>n.value!==null&&n.value!==void 0?t.exceptions[n.value]:null);return(r,a)=>y(s)!==null?(B(),N(We,{key:0},{default:l(()=>[t.exceptions.length>1?(B(),N(He,{key:0},{default:l(()=>[n.value!==null&&n.value!==void 0&&n.value<t.exceptions.length-1?(B(),N(ce,{key:0,flat:"",onClick:a[0]||(a[0]=i=>n.value++)},{default:l(()=>[k("Previous exception ")]),_:1})):ue("",!0),o(Ln),n.value!==null&&n.value!==void 0&&n.value!==0?(B(),N(ce,{key:1,flat:"",onClick:a[1]||(a[1]=i=>n.value--)},{default:l(()=>[k("Next exception ")]),_:1})):ue("",!0)]),_:1})):ue("",!0),o(Ne,null,{default:l(()=>[U("div",Dn,E(y(s).code)+" | "+E(y(s).message),1),U("div",En,E(y(s).file)+":"+E(y(s).line),1)]),_:1}),o(Ne,{class:"q-pt-none"},{default:l(()=>[o(Oe,null,{default:l(()=>[(B(!0),ne(xe,null,qe(y(s).stack_trace,(i,v)=>(B(),N(ee,{key:v},{default:l(()=>[o(X,{side:"",top:""},{default:l(()=>[o(A,{caption:""},{default:l(()=>[k("#"+E(v),1)]),_:2},1024)]),_:2},1024),o(X,null,{default:l(()=>[o(A,null,{default:l(()=>[k(E(i.file)+":"+E(i.line),1)]),_:2},1024),o(A,{caption:"",lines:"2"},{default:l(()=>[k(E(i.class)+E(i.type)+E(i.function),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),o(ht,{spaced:"",inset:""})]),_:1})]),_:1}),o(He,{align:"right"},{default:l(()=>[Fe(o(ce,{flat:"",label:"Close",color:"primary"},null,512),[[mt]])]),_:1})]),_:1})):(B(),N(We,{key:1},{default:l(()=>[o(Ne,{class:"q-pt-none"},{default:l(()=>[k(" No exception found ")]),_:1}),o(He,{align:"right"},{default:l(()=>[Fe(o(ce,{flat:"",label:"Close",color:"primary"},null,512),[[mt]])]),_:1})]),_:1}))}}),Hn={key:0,class:"row"},Nn={class:"col-12 q-py-md"},Fn={key:1,class:"row"},On={class:"col-12"},Wn={class:"row q-pa-md"},zn={class:"col-12 text-right"},Yn={class:"row"},Un={class:"col-12 q-py-md"},Kn={class:"row"},Jn={class:"col-12 q-py-md"},Gn=U("div",{class:"text-h6"},"Messages",-1),Xn=U("div",{class:"text-h6"},"Signals",-1),Zn=U("div",{class:"text-h6"},"Statuses",-1),ea=U("div",null,null,-1),ta=U("div",{class:"text-h6"},"Exception",-1),na={key:0},ga=Ye({__name:"RunShowPage",props:{jobStatusId:null},setup(e){const t=e;ie.extend(on);const n=W(null),s=W("timeline");ze(()=>{let f=Le.runs.show(t.jobStatusId).bypassAuth().listen().onUpdated(C=>n.value=C).start();Be(()=>{f.stop()})});const r=x(()=>{var f;return d.value===null?!1:((f=d.value)==null?void 0:f.signals.filter(C=>C.cancel_job&&C.handled_at===null).length)>0}),a=W(!1);function i(){a.value=!0,Le.runs.cancel(t.jobStatusId).bypassAuth().send().finally(()=>a.value=!1)}const v=W(!1);function D(){v.value=!0,Le.runs.retry(t.jobStatusId).bypassAuth().send().finally(()=>v.value=!1)}const H=x(()=>{var h;let f=(h=d.value)==null?void 0:h.exception,C=[];for(;f!=null;)C.push(f),f=f.previous;return C}),p=W(null),d=x(()=>{var C;let f=n.value;for(;f!==null&&f.id.toString()!==((C=p.value)==null?void 0:C.toString());)f=f.parent;return f}),g=x(()=>{var f;return d.value===null||d.value.started_at===null?0:d.value.finished_at===null?M((f=d.value)==null?void 0:f.started_at,new Date,!1):M(d.value.started_at,d.value.finished_at,!0)}),q=x(()=>{var f,C;return d.value===null||d.value.created_at===null?0:d.value.started_at===null?M((f=d.value)==null?void 0:f.created_at,new Date,!1):M((C=d.value)==null?void 0:C.created_at,d.value.started_at,!0)});function M(f,C=null,h=!1){return C==null&&(C=new Date),Math.round(ie(C).diff(f,"seconds",h)*10)/10}const j=x(()=>{let f=[],C=n.value;for(;C!==null;)f.push(C),C=C.parent;return f.reverse().map((h,S)=>({label:"Run #"+(S+1).toString(),value:h.id.toString()}))});function z(f){p.value=f}return z(t.jobStatusId),(f,C)=>y(d)!==null?(B(),N(ut,{key:0,class:"justify-evenly",padding:""},{default:l(()=>{var h;return[o(Ht,null,{default:l(()=>[o(Qe,{icon:"list",to:"/jobs",label:"Jobs"}),o(Qe,{label:y(d).alias,icon:"view_stream",to:"/jobs/"+y(d).alias},null,8,["label","to"]),o(Qe,{label:"Run #"+y(d).id,icon:"visibility",to:"/run/"+y(d).id},null,8,["label","to"])]),_:1}),y(j).length>1?(B(),ne("div",Hn,[U("div",Nn,[o(un,{"onUpdate:modelValue":C[0]||(C[0]=S=>z(S)),"model-value":(h=y(d))==null?void 0:h.id.toString(),push:"",spread:"","no-caps":"",rounded:"",unelevated:"",glossy:"","toggle-color":"primary",options:y(j)},null,8,["model-value","options"])])])):ue("",!0),(y(d).status==="started"||y(d).status==="queued")&&y(r)?(B(),ne("div",Fn,[U("div",On,[o(en,{class:"bg-warning text-black"},{default:l(()=>[k(" A cancel signal has been sent to this job, but the job has not yet handled it. ")]),_:1})])])):ue("",!0),U("div",Wn,[U("div",zn,[o($t,{rounded:""},{default:l(()=>[y(d).alias!==null?(B(),N(ce,{key:0,rounded:"",push:"",to:{path:"/jobs/"+y(d).alias},"icon-right":"arrow_back",label:"Go to job"},null,8,["to"])):ue("",!0),y(d).status==="started"||y(d).status==="queued"?(B(),N(ce,{key:1,disable:y(r),loading:a.value,push:"",icon:"cancel",label:"Cancel",onClick:i},null,8,["disable","loading"])):ue("",!0),y(d).connection_name&&y(d).queue&&y(d).has_payload?(B(),N(ce,{key:2,disable:v.value,loading:v.value,push:"",icon:"replay",label:"Retry",onClick:D},null,8,["disable","loading"])):ue("",!0)]),_:1})])]),U("div",Yn,[U("div",Un,[o(Oe,{bordered:"",separator:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(X,null,{default:l(()=>[o(A,null,{default:l(()=>[k(E(y(d).alias),1)]),_:1}),o(A,{caption:""},{default:l(()=>[k("Alias")]),_:1})]),_:1})]),_:1}),o(ee,null,{default:l(()=>[o(X,null,{default:l(()=>[o(A,null,{default:l(()=>[k(E(y(d).class),1)]),_:1}),o(A,{caption:""},{default:l(()=>[k("Class")]),_:1})]),_:1})]),_:1}),o(ee,null,{default:l(()=>[o(X,null,{default:l(()=>[o(A,null,{default:l(()=>[k(E(y(d).status),1)]),_:1}),o(A,{caption:""},{default:l(()=>[k("Status")]),_:1})]),_:1})]),_:1}),o(ee,null,{default:l(()=>[o(X,null,{default:l(()=>[o(A,null,{default:l(()=>[k(E(y(d).uuid),1)]),_:1}),o(A,{caption:""},{default:l(()=>[k("Uuid")]),_:1})]),_:1})]),_:1}),o(ee,null,{default:l(()=>[o(X,null,{default:l(()=>[o(A,null,{default:l(()=>[k(E(y(d).tags),1)]),_:1}),o(A,{caption:""},{default:l(()=>[k("Tags")]),_:1})]),_:1})]),_:1}),o(ee,null,{default:l(()=>[o(X,null,{default:l(()=>[o(A,null,{default:l(()=>[k(E(y(d).percentage),1)]),_:1}),o(A,{caption:""},{default:l(()=>[k("Percentage")]),_:1})]),_:1})]),_:1}),o(ee,null,{default:l(()=>[o(X,null,{default:l(()=>[o(A,null,{default:l(()=>[k(E(y(d).created_at),1)]),_:1}),o(A,{caption:""},{default:l(()=>[k("Dispatched At")]),_:1})]),_:1})]),_:1}),o(ee,null,{default:l(()=>[o(X,null,{default:l(()=>[y(q)===null?(B(),N(A,{key:0},{default:l(()=>[k("N/A")]),_:1})):(B(),N(A,{key:1},{default:l(()=>[k(E(y(q))+" s",1)]),_:1})),o(A,{caption:""},{default:l(()=>[k("Queue time")]),_:1})]),_:1})]),_:1}),o(ee,null,{default:l(()=>[o(X,null,{default:l(()=>[y(g)===null?(B(),N(A,{key:0},{default:l(()=>[k("N/A")]),_:1})):(B(),N(A,{key:1},{default:l(()=>[k(E(y(g))+" s",1)]),_:1})),o(A,{caption:""},{default:l(()=>[k("Runtime")]),_:1})]),_:1})]),_:1}),y(d).batch_id===null?(B(),N(ee,{key:0},{default:l(()=>[o(X,null,{default:l(()=>[o(A,null,{default:l(()=>[k("N/A")]),_:1}),o(A,{caption:""},{default:l(()=>[k("Batch")]),_:1})]),_:1})]),_:1})):(B(),N(ee,{key:1,clickable:"",to:{path:"/batch/"+y(d).batch_id}},{default:l(()=>[o(X,null,{default:l(()=>[o(A,null,{default:l(()=>[k(E(y(d).batch_id_uuid),1)]),_:1}),o(A,{caption:""},{default:l(()=>[k("Batch")]),_:1})]),_:1})]),_:1},8,["to"]))]),_:1})])]),U("div",Kn,[U("div",Jn,[o(We,null,{default:l(()=>[o(pn,{modelValue:s.value,"onUpdate:modelValue":C[1]||(C[1]=S=>s.value=S),class:"text-teal"},{default:l(()=>[o(be,{name:"timeline",icon:"timeline",label:"Timeline"}),o(be,{name:"messages",icon:"mail",label:"Messages"}),o(be,{name:"signals",icon:"connect_without_contact",label:"Signals"}),o(be,{name:"statuses",icon:"move_down",label:"Status History"}),o(be,{name:"exception",icon:"error",label:"Exception"})]),_:1},8,["modelValue"]),o(ht),o($n,{modelValue:s.value,"onUpdate:modelValue":C[2]||(C[2]=S=>s.value=S),animated:""},{default:l(()=>[o(pe,{name:"timeline"},{default:l(()=>[o(Mn,{run:y(d)},null,8,["run"])]),_:1}),o(pe,{name:"messages"},{default:l(()=>[Gn,o(Ve,{color:"secondary"},{default:l(()=>[(B(!0),ne(xe,null,qe(y(d).messages,S=>(B(),N(Ee,{key:S.id,title:S.type,subtitle:y(ie)(S.created_at).format("L LTS")},{default:l(()=>[U("div",null,E(S.message),1)]),_:2},1032,["title","subtitle"]))),128))]),_:1})]),_:1}),o(pe,{name:"signals"},{default:l(()=>[Xn,o(Ve,{color:"secondary"},{default:l(()=>[(B(!0),ne(xe,null,qe(y(d).signals,S=>(B(),N(Ee,{key:S.id,title:S.signal,subtitle:S.cancel_job?"Job stopped":"Job continued"},{default:l(()=>[U("div",null,[o(Oe,{bordered:"",separator:""},{default:l(()=>[o(ee,null,{default:l(()=>[o(X,null,{default:l(()=>[o(A,null,{default:l(()=>[k(E(S.parameters),1)]),_:2},1024),o(A,{caption:""},{default:l(()=>[k("Parameters")]),_:1})]),_:2},1024)]),_:2},1024),o(ee,null,{default:l(()=>[o(X,null,{default:l(()=>[o(A,null,{default:l(()=>[k(E(y(ie)(S.created_at).format("L LTS")),1)]),_:2},1024),o(A,{caption:""},{default:l(()=>[k("Sent at")]),_:1})]),_:2},1024)]),_:2},1024),o(ee,null,{default:l(()=>[o(X,null,{default:l(()=>[o(A,null,{default:l(()=>[k(E(y(ie)(S.handled_at).format("L LTS")),1)]),_:2},1024),o(A,{caption:""},{default:l(()=>[k("Handled at")]),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),_:2},1032,["title","subtitle"]))),128))]),_:1})]),_:1}),o(pe,{name:"statuses"},{default:l(()=>[Zn,o(Ve,{color:"secondary"},{default:l(()=>[(B(!0),ne(xe,null,qe(y(d).statuses,S=>(B(),N(Ee,{key:S.id,title:S.status,subtitle:y(ie)(S.created_at).format("L LTS")},{default:l(()=>[ea]),_:2},1032,["title","subtitle"]))),128))]),_:1})]),_:1}),o(pe,{name:"exception"},{default:l(()=>[ta,y(d).exception?(B(),N(Vn,{key:1,exceptions:y(H)},null,8,["exceptions"])):(B(),ne("div",na," No exceptions were detected in this job "))]),_:1})]),_:1},8,["modelValue"])]),_:1})])])]}),_:1})):(B(),N(ut,{key:1,class:"items-center justify-evenly"},{default:l(()=>[k(" Loading ")]),_:1}))}});export{ga as default};

import{c as y,Q as x,a as k,b as _}from"./index.d9d91bd7.js";import{Q as o,b as n,c as v,d as B}from"./QItem.7d79cd3c.js";import{Q as f}from"./QPage.f37ce4a6.js";import{Q as q}from"./use-router-link.06d73f40.js";import{_ as s}from"./StatusCount.abd43629.js";import{J as h,K as l,L as r,M as t,d as e,O as c,P as Q,Q as b,r as L,o as I,k as S,R as g,S as w,F as C}from"./index.370ff9cd.js";import"./render.258f2d26.js";import"./index.b7f28e66.js";import"./QAvatar.13efa80e.js";import"./QChip.fbc22dd2.js";const F={class:"text-weight-medium"},N={class:"text-grey-8 q-gutter-xs"},P=h({__name:"QueueListItem",props:{queue:null},setup(i){const a=i;return(d,u)=>(l(),r(v,{clickable:"",to:{path:"/queues/"+encodeURIComponent(a.queue.name)}},{default:t(()=>[e(o,{avatar:"",top:""},{default:t(()=>[e(q,{name:"queue",color:"black",size:"34px"})]),_:1}),e(o,{top:"",class:"col-2 gt-sm"},{default:t(()=>[e(n,{class:"q-mt-sm"},{default:t(()=>[c(Q(a.queue.name),1)]),_:1})]),_:1}),e(o,{top:""},{default:t(()=>[e(n,{lines:"1"},{default:t(()=>[b("span",F,Q(a.queue.name),1)]),_:1}),e(n,{caption:"",lines:"5"},{default:t(()=>[e(s,{count:a.queue.queued,label:"Queued",color:"primary"},null,8,["count"]),e(s,{count:a.queue.started,label:"Running",color:"info"},null,8,["count"]),e(s,{count:a.queue.cancelled,label:"Cancelled",color:"warning"},null,8,["count"]),e(s,{count:a.queue.failed,label:"Failed",color:"negative"},null,8,["count"]),e(s,{count:a.queue.succeeded,label:"Succeeded",color:"positive"},null,8,["count"])]),_:1})]),_:1}),e(o,{top:"",side:""},{default:t(()=>[b("div",N,[e(q,{class:"gt-xs",size:"12px",icon:"keyboard_arrow_right"})])]),_:1})]),_:1},8,["to"]))}}),H=h({__name:"QueueListPage",setup(i){const a=L(null);I(()=>{let u=y.queues.search().bypassAuth().listen().onUpdated(m=>a.value=m).start();S(()=>{u.stop()})});function d(u){return u.name}return(u,m)=>a.value!==null?(l(),r(f,{key:0,class:"justify-evenly"},{default:t(()=>[e(k,null,{default:t(()=>[e(x,{icon:"list",to:"/queues",label:"Queues"})]),_:1}),e(B,{class:"rounded-borders q-pa-lg"},{default:t(()=>[e(n,{header:""},{default:t(()=>[c("All Queues")]),_:1}),e(_),(l(!0),g(C,null,w(a.value,p=>(l(),g("div",{key:d(p)},[e(P,{queue:p},null,8,["queue"]),e(_)]))),128))]),_:1})]),_:1})):(l(),r(f,{key:1,class:"items-center justify-evenly"},{default:t(()=>[c(" Loading ")]),_:1}))}});export{H as default};

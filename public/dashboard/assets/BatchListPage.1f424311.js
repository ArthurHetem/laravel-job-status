import{u as k,Q as L,a as S,b as f}from"./useApi.997c5862.js";import{Q as s,b as n,c as w,d as I}from"./QItem.bfe29bf2.js";import{Q as h,a as q}from"./api.9f0c9793.js";import{Q as b}from"./use-router-link.bd05d481.js";import{_ as o}from"./StatusCount.340926b4.js";import{d as r}from"./dayjs.min.54da9cde.js";import{l as F}from"./localizedFormat.518c866f.js";import{r as N}from"./relativeTime.a9f93413.js";import{J as B,c as g,K as l,L as m,M as a,d as t,O as p,P as Q,$ as x,Q as y,r as j,R as v,S as z,F as A}from"./index.ae9159f0.js";import"./render.a500136f.js";import"./index.2cf0d985.js";import"./config.83e19d5f.js";import"./QAvatar.3c99791e.js";import"./QChip.6fec4e2a.js";const C={class:"text-weight-medium"},P={class:"text-grey-8 q-gutter-xs"},T=B({__name:"BatchListItem",props:{batch:null},setup(_){const e=_;r.extend(N),r.extend(F);const u=g(()=>r().to(e.batch.created_at)),c=g(()=>e.batch.name!==null&&e.batch.name!==""?e.batch.name:"Batch dispatched at "+r(e.batch.created_at).format("L LTS"));return(i,d)=>(l(),m(w,{clickable:"",to:{path:"/batch/"+e.batch.id}},{default:a(()=>[t(s,{avatar:"",top:""},{default:a(()=>[t(b,{name:"group_work",color:"black",size:"34px"})]),_:1}),t(s,{top:"",class:"col-2 gt-sm"},{default:a(()=>[t(n,{class:"q-mt-sm"},{default:a(()=>[p(Q(x(u)),1)]),_:1})]),_:1}),t(s,{top:""},{default:a(()=>[t(n,{lines:"1"},{default:a(()=>[y("span",C,Q(x(c)),1)]),_:1}),t(n,{caption:"",lines:"5"},{default:a(()=>[t(o,{count:e.batch.queued,label:"Queued",color:"primary"},null,8,["count"]),t(o,{count:e.batch.started,label:"Running",color:"info"},null,8,["count"]),t(o,{count:e.batch.cancelled,label:"Cancelled",color:"warning"},null,8,["count"]),t(o,{count:e.batch.failed,label:"Failed",color:"negative"},null,8,["count"]),t(o,{count:e.batch.succeeded,label:"Succeeded",color:"positive"},null,8,["count"])]),_:1})]),_:1}),t(s,{top:"",side:""},{default:a(()=>[y("div",P,[t(b,{class:"gt-xs",size:"12px",icon:"keyboard_arrow_right"})])]),_:1})]),_:1},8,["to"]))}}),Y=B({__name:"BatchListPage",setup(_){const e=j(null);k(c=>{q.batchList().then(i=>e.value=i).finally(c)});function u(c){return c.batch_id}return(c,i)=>e.value!==null?(l(),m(h,{key:0,class:"justify-evenly"},{default:a(()=>[t(S,null,{default:a(()=>[t(L,{icon:"list",to:"/batch",label:"Batches"})]),_:1}),t(I,{class:"rounded-borders q-pa-lg"},{default:a(()=>[t(n,{header:""},{default:a(()=>[p("All Batches")]),_:1}),t(f),(l(!0),v(A,null,z(e.value,d=>(l(),v("div",{key:u(d)},[t(T,{batch:d},null,8,["batch"]),t(f)]))),128))]),_:1})]),_:1})):(l(),m(h,{key:1,class:"items-center justify-evenly"},{default:a(()=>[p(" Loading ")]),_:1}))}});export{Y as default};

import{c as R,Q as j,a as B,b as Q}from"./index.d9d91bd7.js";import{Q as c,b as o,c as _,d as b}from"./QItem.7d79cd3c.js";import{Q as k}from"./QPage.f37ce4a6.js";import{R as w}from"./use-router-link.06d73f40.js";import{_ as L}from"./TrackedRunListItem.fdb4c55f.js";import{Q as J}from"./QAvatar.13efa80e.js";import{J as h,K as t,L as r,M as e,d as a,O as l,P as f,Q as i,R as p,F,S as x,r as S,o as $,k as C,C as g}from"./index.370ff9cd.js";import"./render.258f2d26.js";import"./index.b7f28e66.js";import"./QCircularProgress.55c42275.js";import"./format.801e7424.js";import"./QChip.fbc22dd2.js";import"./api.9a3f3035.js";import"./dayjs.min.29daf272.js";import"./relativeTime.41e30fc0.js";const I={class:"text-weight-medium"},A=h({__name:"JobFailureListItem",props:{jobFailure:null},setup(u){const d=u;return(s,m)=>(t(),r(_,null,{default:e(()=>[a(c,{avatar:"",top:""},{default:e(()=>[a(J,{color:"primary","text-color":"white"},{default:e(()=>[l(f(d.jobFailure.count),1)]),_:1})]),_:1}),a(c,{top:""},{default:e(()=>[a(o,{lines:"1"},{default:e(()=>[i("span",I,f(d.jobFailure.message),1)]),_:1})]),_:1})]),_:1}))}}),E={key:1},N=h({__name:"JobFailureReasons",props:{jobFailureReasons:null},setup(u){return(d,s)=>(t(),r(b,{bordered:"",separator:""},{default:e(()=>[a(o,{header:""},{default:e(()=>[l("Errors")]),_:1}),u.jobFailureReasons.length===0?(t(),r(_,{key:0},{default:e(()=>[a(c,null,{default:e(()=>[a(o,null,{default:e(()=>[l("Good news; no errors found!")]),_:1})]),_:1})]),_:1})):(t(),p("div",E,[(t(!0),p(F,null,x(u.jobFailureReasons,(m,n)=>(t(),r(_,{key:n},{default:e(()=>[a(A,{"job-failure":m},null,8,["job-failure"])]),_:2},1024))),128))]))]),_:1}))}}),P={class:"row"},V={class:"col-12 col-sm-6 q-py-md"},q={class:"col-12 col-sm-6 q-py-md"},D={class:"row"},M={class:"col-12"},le=h({__name:"JobShowPage",props:{alias:null},setup(u){const d=u,s=S(null);$(()=>{let n=R.jobs.show(d.alias).bypassAuth().listen().onUpdated(v=>s.value=v).start();C(()=>{n.stop()})});function m(n){return n.uuid}return(n,v)=>s.value!==null?(t(),r(k,{key:0,class:"justify-evenly",padding:""},{default:e(()=>[a(B,null,{default:e(()=>[a(j,{icon:"list",to:"/jobs",label:"Jobs"}),a(j,{label:s.value.alias,icon:"view_stream",to:"/jobs/"+s.value.alias},null,8,["label","to"])]),_:1}),i("div",P,[i("div",V,[a(b,{bordered:"",separator:""},{default:e(()=>[g((t(),r(_,null,{default:e(()=>[a(c,null,{default:e(()=>[a(o,null,{default:e(()=>[l(f(s.value.alias),1)]),_:1}),a(o,{caption:""},{default:e(()=>[l("Alias")]),_:1})]),_:1})]),_:1})),[[w]]),g((t(),r(_,null,{default:e(()=>[a(c,null,{default:e(()=>[a(o,null,{default:e(()=>[l(f(s.value.class),1)]),_:1}),a(o,{caption:""},{default:e(()=>[l("Class")]),_:1})]),_:1})]),_:1})),[[w]])]),_:1})]),i("div",q,[a(N,{"job-failure-reasons":s.value.failure_reasons},null,8,["job-failure-reasons"])])]),i("div",D,[i("div",M,[a(b,{bordered:"",class:"rounded-borders",style:{"min-width":"85%"}},{default:e(()=>[a(o,{header:""},{default:e(()=>[l("Runs")]),_:1}),a(Q),(t(!0),p(F,null,x(s.value.runs,y=>(t(),p("div",{key:m(y)},[a(L,{"tracked-run":y},null,8,["tracked-run"]),a(Q)]))),128))]),_:1})])])]),_:1})):(t(),r(k,{key:1,class:"items-center justify-evenly"},{default:e(()=>[l(" Loading ")]),_:1}))}});export{le as default};

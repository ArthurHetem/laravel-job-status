import{c as R,Q as w,b as V,d as B}from"./index.300e9944.js";import{Q as u,b as m,c as g,d as U}from"./QItem.9305cabc.js";import{h as A}from"./QPagination.b5e6a4c0.js";import{Q as f,R as I}from"./QBtn.27921073.js";import{Q as F}from"./QPage.54afe3bb.js";import{S as r}from"./StatusCount.99970ec8.js";import{H as S,I as l,J as i,K as a,d as e,M as _,N as C,P as q,r as v,w as $,o as z,k as D,Q as c,F as E,R as H,L as M,A as N}from"./index.943cd6a4.js";import"./render.332ef380.js";import"./axios.d530bc82.js";import"./format.a33550d6.js";import"./position-engine.abd1144d.js";import"./selection.0a700e31.js";const j={class:"text-weight-medium"},J={class:"text-grey-8 q-gutter-xs"},K=S({__name:"QueueListItem",props:{queue:null},setup(Q){const t=Q;return(o,d)=>(l(),i(g,{clickable:"",to:{path:"/queues/"+encodeURIComponent(t.queue.name)}},{default:a(()=>[e(u,{avatar:"",top:""},{default:a(()=>[e(f,{name:"queue",color:"black",size:"34px"})]),_:1}),e(u,{top:"",class:"col-2 gt-sm"},{default:a(()=>[e(m,{class:"q-mt-sm"},{default:a(()=>[_(C(t.queue.name),1)]),_:1})]),_:1}),e(u,{top:""},{default:a(()=>[e(m,{lines:"1"},{default:a(()=>[q("span",j,C(t.queue.name),1)]),_:1}),e(m,{caption:"",lines:"5"},{default:a(()=>[e(r,{count:t.queue.queued,label:"Queued",color:"primary"},null,8,["count"]),e(r,{count:t.queue.started,label:"Running",color:"info"},null,8,["count"]),e(r,{count:t.queue.cancelled,label:"Cancelled",color:"warning"},null,8,["count"]),e(r,{count:t.queue.failed,label:"Failed",color:"negative"},null,8,["count"]),e(r,{count:t.queue.succeeded,label:"Succeeded",color:"positive"},null,8,["count"])]),_:1})]),_:1}),e(u,{top:"",side:""},{default:a(()=>[q("div",J,[e(f,{class:"gt-xs",size:"12px",icon:"keyboard_arrow_right"})])]),_:1})]),_:1},8,["to"]))}}),T={key:0},G={class:"q-pa-lg flex flex-center"},O={key:1},W={key:2},ce=S({__name:"QueueListPage",setup(Q){const t=v(null),o=v(null),d=v(1);$(d,(n,s)=>{b()});function b(){o.value!==null&&o.value.stop(),o.value=R.queues.search().page(d.value).bypassAuth().listen().onUpdated(n=>t.value=n).start()}z(()=>b()),D(()=>{o.value!==null&&o.value.stop()});function P(n){var s;return(s=n.name)!=null?s:"default"}return(n,s)=>(l(),i(F,{class:"justify-evenly",padding:""},{default:a(()=>[e(V,null,{default:a(()=>[e(w,{icon:"list",to:"/queues",label:"Queues"}),e(w,{to:"/queues",label:"List Queues"})]),_:1}),e(U,{class:"rounded-borders q-pa-lg"},{default:a(()=>{var h,x,k,y,L;return[e(m,{header:""},{default:a(()=>[_("All Queues")]),_:1}),((h=t.value)==null?void 0:h.total)>0?(l(),c("div",T,[e(B),(l(!0),c(E,null,H((k=(x=t.value)==null?void 0:x.data)!=null?k:[],p=>(l(),c("div",{key:P(p)},[e(K,{queue:p},null,8,["queue"]),e(B)]))),128)),q("div",G,[((y=t.value)==null?void 0:y.total)>0?(l(),i(A,{key:0,input:"","model-value":t.value.current_page,"onUpdate:modelValue":s[0]||(s[0]=p=>d.value=p),max:t.value.last_page},null,8,["model-value","max"])):M("",!0)])])):((L=t.value)==null?void 0:L.total)===0?(l(),c("div",O,[N((l(),i(g,{clickable:""},{default:a(()=>[e(u,{avatar:""},{default:a(()=>[e(f,{color:"negative",name:"warning"})]),_:1}),e(u,null,{default:a(()=>[_("No queues found")]),_:1})]),_:1})),[[I]])])):(l(),c("div",W,[N((l(),i(g,{clickable:""},{default:a(()=>[e(u,{avatar:""},{default:a(()=>[e(f,{color:"primary",name:"sync"})]),_:1}),e(u,null,{default:a(()=>[_("Loading")]),_:1})]),_:1})),[[I]])]))]}),_:1})]),_:1}))}});export{ce as default};

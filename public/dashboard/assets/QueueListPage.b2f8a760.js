import{c as y,Q as x,a as k,b as _}from"./index.5cf4decf.js";import{Q as o,b as n,c as v,d as B}from"./QItem.30ccef15.js";import{Q as f}from"./QPage.446b7c70.js";import{Q as q}from"./use-router-link.b1fd7710.js";import{_ as s}from"./StatusCount.226fcb60.js";import{H as h,I as l,J as r,K as t,d as e,M as c,N as Q,P as b,r as I,o as L,k as w,Q as g,R as C,F as N}from"./index.755deef1.js";import"./render.862fbab2.js";import"./index.b7f28e66.js";import"./QAvatar.587a22a6.js";import"./QChip.7830a481.js";const S={class:"text-weight-medium"},F={class:"text-grey-8 q-gutter-xs"},P=h({__name:"QueueListItem",props:{queue:null},setup(i){const a=i;return(d,u)=>(l(),r(v,{clickable:"",to:{path:"/queues/"+encodeURIComponent(a.queue.name)}},{default:t(()=>[e(o,{avatar:"",top:""},{default:t(()=>[e(q,{name:"queue",color:"black",size:"34px"})]),_:1}),e(o,{top:"",class:"col-2 gt-sm"},{default:t(()=>[e(n,{class:"q-mt-sm"},{default:t(()=>[c(Q(a.queue.name),1)]),_:1})]),_:1}),e(o,{top:""},{default:t(()=>[e(n,{lines:"1"},{default:t(()=>[b("span",S,Q(a.queue.name),1)]),_:1}),e(n,{caption:"",lines:"5"},{default:t(()=>[e(s,{count:a.queue.queued,label:"Queued",color:"primary"},null,8,["count"]),e(s,{count:a.queue.started,label:"Running",color:"info"},null,8,["count"]),e(s,{count:a.queue.cancelled,label:"Cancelled",color:"warning"},null,8,["count"]),e(s,{count:a.queue.failed,label:"Failed",color:"negative"},null,8,["count"]),e(s,{count:a.queue.succeeded,label:"Succeeded",color:"positive"},null,8,["count"])]),_:1})]),_:1}),e(o,{top:"",side:""},{default:t(()=>[b("div",F,[e(q,{class:"gt-xs",size:"12px",icon:"keyboard_arrow_right"})])]),_:1})]),_:1},8,["to"]))}}),D=h({__name:"QueueListPage",setup(i){const a=I(null);L(()=>{let u=y.queues.search().bypassAuth().listen().onUpdated(m=>a.value=m).start();w(()=>{u.stop()})});function d(u){return u.name}return(u,m)=>a.value!==null?(l(),r(f,{key:0,class:"justify-evenly"},{default:t(()=>[e(k,null,{default:t(()=>[e(x,{icon:"list",to:"/queues",label:"Queues"})]),_:1}),e(B,{class:"rounded-borders q-pa-lg"},{default:t(()=>[e(n,{header:""},{default:t(()=>[c("All Queues")]),_:1}),e(_),(l(!0),g(N,null,C(a.value,p=>(l(),g("div",{key:d(p)},[e(P,{queue:p},null,8,["queue"]),e(_)]))),128))]),_:1})]),_:1})):(l(),r(f,{key:1,class:"items-center justify-evenly"},{default:t(()=>[c(" Loading ")]),_:1}))}});export{D as default};
